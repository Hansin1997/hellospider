# Hello Spider ğŸ•·

åŸºäº ```Go``` è¯­è¨€çš„åˆ†å¸ƒå¼ç½‘é¡µçˆ¬è™«ã€‚

## ç®€ä»‹

> æ­¤é¡¹ç›®åˆè¡·åœ¨äºå­¦ä¹  ```Go``` è¯­è¨€ä»¥åŠ ```Elasticsearch``` ã€‚

### åŸºæœ¬åŸç†

1. å°†ç§å­ URL å…¥é˜Ÿã€‚
2. ä»é˜Ÿåˆ—è·å–å¾…æŠ“å– URLã€‚
3. åˆ¤æ–­æ­¤ URL æ˜¯å¦æœ‰æ•ˆã€‚ï¼ˆåŒ…æ‹¬æ£€æŸ¥ URL æ˜¯å¦å·²ç»è¢«æŠ“å–è¿‡ï¼‰
4. æŠ“å–ç½‘é¡µä¿¡æ¯ï¼Œå¹¶è®°å½•æ­¤ URL å·²ç»è¢«æŠ“å–ã€‚
5. å‚¨å­˜ç½‘é¡µæ‘˜è¦ï¼Œå¹¶å°†æ­¤ç½‘é¡µçš„è¶…é“¾æ¥ï¼ˆURLï¼‰è¿›è¡Œå…¥é˜Ÿã€‚
6. æ‰§è¡Œæ­¥éª¤ ``` 2```ã€‚

### å®ç°æ¦‚è¦

* ä½¿ç”¨ ```RabbitMQ``` æ¶ˆæ¯é˜Ÿåˆ—å®ç°åˆ†å¸ƒå¼ä¸‹çš„ URL é˜Ÿåˆ—çš„æŒä¹…åŒ–ã€ä¼˜å…ˆçº§ç­‰ã€‚
* ä½¿ç”¨ ```RedisBloom``` çš„å¸ƒéš†è¿‡æ»¤å™¨å®ç°åˆ†å¸ƒå¼ä¸‹çš„ URL å»é‡ã€‚
* ä½¿ç”¨ ```goquery``` è§£æ HTMLã€‚
* ä½¿ç”¨ ```Elasticsearch``` å‚¨å­˜æ•°æ®ã€‚

å¦å¤–å¯ä»¥ä½¿ç”¨ ```Kibana``` å¯¹æŠ“å–çŠ¶å†µè¿›è¡Œå®æ—¶çš„å¯è§†åŒ–åˆ†æã€‚

### Kibana å¯è§†åŒ–

![Kibanaå¯è§†åŒ–](docs/img/kibana.png?raw=true)

## ç›¸å…³ç¯å¢ƒ

### æ„å»ºç¯å¢ƒ

* ```go version go1.16.3```

### è¿è¡Œç¯å¢ƒ

* ```RabbitMQ 3.8.12```
* ```RedisBloom latest```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œå‚æ•°

```bash
$ go run . -h
Usage of hello-spider:
  -config string
    	File path of configuration. (default "config.json")
  -namespace string
    	Namespace of task. (default "default")
  -priority string
    	Priority policy: 0-9 means that the priority is constant, url-len means that the priority is calculated according to the length of the URL (the shorter the priority), path-len means that the priority is calculated according to the length of the URL path (the shorter the priority). (default "path-len")
  -reset
    	Reset queue, storage and filter before begin task.
  -seed string
    	The seeds URL is comma-separated. Such as: 'https://a.com/, https://b.com/'. And the seeds in the configuration file will be ignored.
```

* ```-config``` é…ç½®æ–‡ä»¶è·¯å¾„
* ```-namespace``` å‘½åç©ºé—´ï¼ˆåŒºåˆ†ä¸åŒä»»åŠ¡ï¼‰
* ```-reset``` å¼€å§‹å‰æ˜¯å¦é‡ç½®å‘½åç©ºé—´
* ```-seed``` æ›¿æ¢é…ç½®æ–‡ä»¶ä¸­çš„ URL ç§å­ï¼ˆè‹±æ–‡é€—å·åˆ†éš”ï¼‰

### é…ç½®æ–‡ä»¶

ä¿®æ”¹é…ç½®æ–‡ä»¶ ```config.json``` ä¸­å„æœåŠ¡çš„åœ°å€ã€ç«¯å£ä»¥åŠç”¨æˆ·ååŠå¯†ç ç­‰ã€‚

```json
{
  "namespace": "default",
  "workers": 8,
  "priority": "path-len",
  "seeds": [
    "https://bing.com/"
  ],
  "redis": {
    "host": "localhost:6379",
    "auth": null
  },
  "rabbitMq": {
    "url": "amqp://guest:guest@localhost:5672/",
    "exchange": "spider",
    "maxLength": 999999999
  },
  "elasticsearch": {
    "address": [
      "http://localhost:9200"
    ],
    "username": "elastic",
    "password": "123456"
  },
  "accepts": [
    "text/html",
    "text/plain"
  ],
  "userAgents": [
    "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; AcooBrowser; .NET CLR 1.1.4322; .NET CLR 2.0.50727)",
    "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; Acoo Browser; SLCC1; .NET CLR 2.0.50727; Media Center PC 5.0; .NET CLR 3.0.04506)",
    "..."
  ],
  "responseHeaders": [
    "Content-Type",
    "Content-Length",
    "Content-Language",
    "Server",
    "X-Powered-By"
  ]
}
```

### è¿è¡Œ

#### æºä»£ç 

```bash
go run .
```

### äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶

```bash
./hellospider
```

## ç›¸å…³ç»†èŠ‚

### å­—ç¬¦ç¼–ç è½¬æ¢

Go è¯­è¨€é»˜è®¤å­—ç¬¦ç¼–ç ä¸º ```UTF-8```ï¼Œåœ¨è§£æç½‘é¡µæ—¶ä¸ºäº†é¿å…ä¹±ç éœ€è¦åˆ¤æ–­è¯¥ç½‘é¡µçš„å­—ç¬¦ç¼–ç å¹¶è¿›è¡Œè½¬æ¢ã€‚ç›®å‰å‘ç°åŒ…å«å­—ç¬¦ç¼–ç çš„å†…å®¹å¦‚ä¸‹ï¼š

* HTTP å“åº”å¤´ä¸­çš„ ```Content-Type``` ï¼Œå¦‚ï¼š```text/html; charset=gbk```
* HTML å¤´éƒ¨çš„ meta æ ‡ç­¾ï¼Œå¦‚ï¼š```<meta charset='gbk'>```
  , ```<meta http-equiv='Content-Type' content='text/html; charset=gb2312'>```

å¦‚æœåœ¨å“åº”å¤´ä¸­èƒ½å¤Ÿåˆ¤æ–­å­—ç¬¦ç¼–ç ï¼Œåˆ™ç›´æ¥å°† ```Reader``` è¿›è¡Œè½¬æ¢å³å¯ã€‚å¦åˆ™éœ€è¦å…ˆè§£æ HTMLï¼Œåˆ¤æ–­åå†è¿›è¡Œè½¬æ¢ã€‚åè€…éœ€è¦å‚¨å­˜å“åº”çš„æ•°æ®å†æ¬¡æ„é€  ```Reader``` ä»¥æä¾›é‡å¤è¯»å–ã€‚

### ä¼˜å…ˆçº§

æ¯æŠ“å–ä¸€ä¸ªç½‘é¡µï¼Œå¾€å¾€ä¼šäº§ç”Ÿå‡ åä¸ªæ–°çš„ URLï¼Œå¦‚æœä¸ä¸º URL è®¾å®šä¼˜å…ˆçº§ç­–ç•¥ï¼Œæˆ–è®¸å¾ˆéš¾è¾¾åˆ°é¢„æœŸçš„ç»“æœã€‚

#### a. æ— ä¼˜å…ˆçº§

URL æ— ä¼˜å…ˆçº§æ—¶ï¼Œæ ¹æ®é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œæœç´¢å°†ä¼šæ˜¯å¹¿åº¦ä¼˜å…ˆã€‚ æ­¤æ—¶çš„å¹¿åº¦ä¼˜å…ˆå¹¶éæŒ‡çš„æ˜¯ç½‘ç«™å¹¿åº¦ï¼Œè€Œæ˜¯ç›¸å½“äºæ ‘çš„å±‚æ¬¡éå†ã€‚ æœå¯»ç»“æœæ ¹æ®ç½‘é¡µçš„é“¾æ¥ç›¸å…³æ€§æœ‰ä¸åŒç»“æœã€‚

å¦‚æœç½‘é¡µå†…çš„å¤§éƒ¨åˆ†é“¾æ¥éƒ½æŒ‡å‘æŸä¸€ä¸ªç½‘ç«™ï¼Œå‡è®¾æ˜¯å®ƒæœ¬ç«™ï¼Œé‚£ä¹ˆæŠ“å–çš„ç½‘é¡µå¤§éƒ¨åˆ†å°†æ˜¯æ­¤ç½‘ç«™çš„å†…å®¹æˆ–è€…æ˜¯ä¸å…¶å¯†åˆ‡ç›¸å…³çš„å…¶ä»–ç«™ç‚¹çš„å†…å®¹ã€‚

*æ­¤ç­–ç•¥é€‚åˆæŒ–æ˜æŸä¸ªç«™ç‚¹*

#### b. æ ¹æ® URL é•¿åº¦è®¡ç®—ä¼˜å…ˆçº§

ä¸€ä¸ª URL è¶Šé•¿ï¼Œé€šå¸¸å¯èƒ½è¡¨ç¤ºå®ƒå¤„åœ¨ç«™ç‚¹è¶Šæ·±çš„åœ°æ–¹ã€‚åœ¨æŸäº›æœç´¢åœºæ™¯ä¸‹ï¼Œå®ƒå¯èƒ½å¹¶ä¸é‚£ä¹ˆé‡è¦ã€‚åè¿‡æ¥ï¼Œä¸€ä¸ª URL è¶ŠçŸ­é‚£ä¹ˆå®ƒå°±å¤„äºç«™ç‚¹è¶Šæµ…çš„åœ°æ–¹ï¼Œå¯¹äºæƒ³è¦å‘ç°æ›´å¤šç«™ç‚¹çš„æœç´¢åœºæ™¯æ¥è¯´æ›´å¥½ã€‚

ç®€å•é€šè¿‡ä¸€ä¸‡æ¡ URL çš„é‡‡æ ·å‘ç° URL çš„å¹³å‡å…¨é•¿åœ¨ 70 å·¦å³ï¼Œä»… URI è·¯å¾„çš„å¹³å‡é•¿åº¦åœ¨ 35 å·¦å³ã€‚

ç®€å•è®¾è®¡ä¸€ä¸ªä¼˜å…ˆçº§å‡½æ•°ï¼š

<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.352089pt' height='32.032682pt' viewBox='-.239051 -.227196 85.352089 32.032682'>
<defs>
<path id='g4-48' d='M3.287671-1.906849C3.287671-2.343213 3.287671-3.975093 1.823163-3.975093S.358655-2.343213 .358655-1.906849C.358655-1.476463 .358655 .125529 1.823163 .125529S3.287671-1.476463 3.287671-1.906849ZM1.823163-.065753C1.572105-.065753 1.165629-.185305 1.022167-.681445C.926526-1.028144 .926526-1.613948 .926526-1.984558C.926526-2.385056 .926526-2.84533 1.010212-3.16812C1.159651-3.706102 1.613948-3.783811 1.823163-3.783811C2.098132-3.783811 2.492653-3.652304 2.624159-3.198007C2.713823-2.881196 2.719801-2.444832 2.719801-1.984558C2.719801-1.601993 2.719801-.998257 2.618182-.663512C2.450809-.143462 2.020423-.065753 1.823163-.065753Z'/>
<path id='g4-51' d='M1.75741-1.984558C2.265504-1.984558 2.606227-1.643836 2.606227-1.034122C2.606227-.376588 2.211706-.089664 1.775342-.089664C1.613948-.089664 .998257-.125529 .729265-.472229C.962391-.496139 1.058032-.651557 1.058032-.812951C1.058032-1.016189 .91457-1.153674 .71731-1.153674C.555915-1.153674 .376588-1.052055 .376588-.800996C.376588-.209215 1.034122 .125529 1.793275 .125529C2.677958 .125529 3.269738-.442341 3.269738-1.034122C3.269738-1.470486 2.934994-1.93076 2.223661-2.110087C2.69589-2.265504 3.078456-2.64807 3.078456-3.138232C3.078456-3.616438 2.516563-3.975093 1.799253-3.975093C1.099875-3.975093 .56787-3.652304 .56787-3.162142C.56787-2.905106 .765131-2.833375 .884682-2.833375C1.0401-2.833375 1.201494-2.940971 1.201494-3.150187C1.201494-3.335492 1.069988-3.443088 .908593-3.466999C1.189539-3.777833 1.733499-3.777833 1.787298-3.777833C2.092154-3.777833 2.47472-3.634371 2.47472-3.138232C2.47472-2.809465 2.289415-2.235616 1.691656-2.199751C1.58406-2.193773 1.422665-2.181818 1.368867-2.181818C1.309091-2.175841 1.243337-2.169863 1.243337-2.080199C1.243337-1.984558 1.309091-1.984558 1.41071-1.984558H1.75741Z'/>
<path id='g4-52' d='M3.371357-.980324V-1.21345H2.67198V-3.855542C2.67198-3.993026 2.67198-4.034869 2.52254-4.034869C2.414944-4.034869 2.402989-4.016936 2.349191-3.945205L.274969-1.21345V-.980324H2.133998V-.502117C2.133998-.304857 2.133998-.233126 1.63188-.233126H1.458531V0C1.578082-.005978 2.139975-.02391 2.402989-.02391S3.227895-.005978 3.347447 0V-.233126H3.174097C2.67198-.233126 2.67198-.304857 2.67198-.502117V-.980324H3.371357ZM2.175841-3.383313V-1.21345H.532005L2.175841-3.383313Z'/>
<path id='g4-53' d='M1.016189-3.317559C1.21345-3.263761 1.422665-3.239851 1.625903-3.239851C1.75741-3.239851 2.092154-3.239851 2.468742-3.449066C2.570361-3.508842 2.940971-3.753923 2.940971-3.879452C2.940971-3.957161 2.881196-3.975093 2.857285-3.975093C2.839352-3.975093 2.833375-3.975093 2.767621-3.951183C2.552428-3.867497 2.247572-3.783811 1.859029-3.783811C1.566127-3.783811 1.243337-3.837609 .974346-3.939228C.91457-3.963138 .89066-3.975093 .86675-3.975093C.783064-3.975093 .783064-3.90934 .783064-3.813699V-2.020423C.783064-1.918804 .783064-1.847073 .89066-1.847073C.944458-1.847073 .962391-1.870984 1.004234-1.918804C1.153674-2.110087 1.416687-2.313325 1.882939-2.313325C2.618182-2.313325 2.618182-1.416687 2.618182-1.225405C2.618182-.992279 2.600249-.657534 2.402989-.412453C2.217684-.185305 1.942715-.089664 1.685679-.089664C1.273225-.089664 .860772-.316812 .71731-.663512C1.010212-.669489 1.046077-.902615 1.046077-.974346C1.046077-1.135741 .920548-1.279203 .735243-1.279203C.681445-1.279203 .430386-1.249315 .430386-.950436C.430386-.400498 .950436 .125529 1.703611 .125529C2.52254 .125529 3.21594-.454296 3.21594-1.201494C3.21594-1.882939 2.666002-2.504608 1.894894-2.504608C1.506351-2.504608 1.207472-2.379078 1.016189-2.217684V-3.317559Z'/>
<path id='g0-0' d='M4.758157-1.338979C4.853798-1.338979 5.003238-1.338979 5.003238-1.494396S4.853798-1.649813 4.758157-1.649813H.992279C.896638-1.649813 .747198-1.649813 .747198-1.494396S.896638-1.338979 .992279-1.338979H4.758157Z'/>
<path id='g2-120' d='M3.36538-2.349191C3.156164-2.289415 3.108344-2.116065 3.108344-2.026401C3.108344-1.835118 3.263761-1.793275 3.347447-1.793275C3.520797-1.793275 3.694147-1.936737 3.694147-2.169863C3.694147-2.492653 3.341469-2.636115 3.036613-2.636115C2.642092-2.636115 2.402989-2.331258 2.337235-2.217684C2.259527-2.367123 2.032379-2.636115 1.58406-2.636115C.896638-2.636115 .490162-1.924782 .490162-1.715567C.490162-1.685679 .514072-1.63188 .597758-1.63188S.699377-1.667746 .71731-1.721544C.86675-2.205729 1.273225-2.438854 1.566127-2.438854S1.948692-2.247572 1.948692-2.050311C1.948692-1.97858 1.948692-1.924782 1.900872-1.739477C1.763387-1.183562 1.63188-.639601 1.601993-.56787C1.512329-.340722 1.297136-.137484 1.046077-.137484C1.010212-.137484 .842839-.137484 .705355-.227148C.938481-.304857 .962391-.502117 .962391-.549938C.962391-.705355 .842839-.783064 .723288-.783064C.555915-.783064 .376588-.651557 .376588-.406476C.376588-.065753 .753176 .059776 1.034122 .059776C1.374844 .059776 1.619925-.17335 1.733499-.358655C1.853051-.107597 2.139975 .059776 2.480697 .059776C3.186052 .059776 3.580573-.663512 3.580573-.860772C3.580573-.872727 3.574595-.944458 3.466999-.944458C3.383313-.944458 3.371357-.902615 3.353425-.848817C3.180075-.328767 2.755666-.137484 2.504608-.137484C2.27746-.137484 2.116065-.268991 2.116065-.52005C2.116065-.633624 2.145953-.765131 2.199751-.974346L2.391034-1.751432C2.450809-1.984558 2.480697-2.092154 2.606227-2.235616C2.689913-2.32528 2.833375-2.438854 3.024658-2.438854C3.054545-2.438854 3.233873-2.438854 3.36538-2.349191Z'/>
<path id='g1-0' d='M5.571108-1.809215C5.69863-1.809215 5.873973-1.809215 5.873973-1.992528S5.69863-2.175841 5.571108-2.175841H1.004234C.876712-2.175841 .70137-2.175841 .70137-1.992528S.876712-1.809215 1.004234-1.809215H5.571108Z'/>
<path id='g5-40' d='M3.88543 2.905106C3.88543 2.86924 3.88543 2.84533 3.682192 2.642092C2.486675 1.43462 1.817186-.537983 1.817186-2.976837C1.817186-5.296139 2.379078-7.292653 3.765878-8.703362C3.88543-8.810959 3.88543-8.834869 3.88543-8.870735C3.88543-8.942466 3.825654-8.966376 3.777833-8.966376C3.622416-8.966376 2.642092-8.105604 2.056289-6.933998C1.446575-5.726526 1.171606-4.447323 1.171606-2.976837C1.171606-1.912827 1.338979-.490162 1.960648 .789041C2.666002 2.223661 3.646326 3.000747 3.777833 3.000747C3.825654 3.000747 3.88543 2.976837 3.88543 2.905106Z'/>
<path id='g5-41' d='M3.371357-2.976837C3.371357-3.88543 3.251806-5.36787 2.582316-6.75467C1.876961-8.18929 .896638-8.966376 .765131-8.966376C.71731-8.966376 .657534-8.942466 .657534-8.870735C.657534-8.834869 .657534-8.810959 .860772-8.607721C2.056289-7.400249 2.725778-5.427646 2.725778-2.988792C2.725778-.669489 2.163885 1.327024 .777086 2.737733C.657534 2.84533 .657534 2.86924 .657534 2.905106C.657534 2.976837 .71731 3.000747 .765131 3.000747C.920548 3.000747 1.900872 2.139975 2.486675 .968369C3.096389-.251059 3.371357-1.542217 3.371357-2.976837Z'/>
<path id='g5-48' d='M5.355915-3.825654C5.355915-4.817933 5.296139-5.786301 4.865753-6.694894C4.375592-7.687173 3.514819-7.950187 2.929016-7.950187C2.235616-7.950187 1.3868-7.603487 .944458-6.611208C.609714-5.858032 .490162-5.116812 .490162-3.825654C.490162-2.666002 .573848-1.793275 1.004234-.944458C1.470486-.035866 2.295392 .251059 2.917061 .251059C3.957161 .251059 4.554919-.37061 4.901619-1.06401C5.332005-1.960648 5.355915-3.132254 5.355915-3.825654ZM2.917061 .011955C2.534496 .011955 1.75741-.203238 1.530262-1.506351C1.398755-2.223661 1.398755-3.132254 1.398755-3.969116C1.398755-4.94944 1.398755-5.834122 1.590037-6.539477C1.793275-7.340473 2.402989-7.711083 2.917061-7.711083C3.371357-7.711083 4.064757-7.436115 4.291905-6.40797C4.447323-5.726526 4.447323-4.782067 4.447323-3.969116C4.447323-3.16812 4.447323-2.259527 4.315816-1.530262C4.088667-.215193 3.335492 .011955 2.917061 .011955Z'/>
<path id='g5-49' d='M3.443088-7.663263C3.443088-7.938232 3.443088-7.950187 3.203985-7.950187C2.917061-7.627397 2.319303-7.185056 1.08792-7.185056V-6.838356C1.362889-6.838356 1.960648-6.838356 2.618182-7.149191V-.920548C2.618182-.490162 2.582316-.3467 1.530262-.3467H1.159651V0C1.482441-.02391 2.642092-.02391 3.036613-.02391S4.578829-.02391 4.901619 0V-.3467H4.531009C3.478954-.3467 3.443088-.490162 3.443088-.920548V-7.663263Z'/>
<path id='g5-61' d='M8.069738-3.873474C8.237111-3.873474 8.452304-3.873474 8.452304-4.088667C8.452304-4.315816 8.249066-4.315816 8.069738-4.315816H1.028144C.860772-4.315816 .645579-4.315816 .645579-4.100623C.645579-3.873474 .848817-3.873474 1.028144-3.873474H8.069738ZM8.069738-1.649813C8.237111-1.649813 8.452304-1.649813 8.452304-1.865006C8.452304-2.092154 8.249066-2.092154 8.069738-2.092154H1.028144C.860772-2.092154 .645579-2.092154 .645579-1.876961C.645579-1.649813 .848817-1.649813 1.028144-1.649813H8.069738Z'/>
<path id='g3-101' d='M2.139975-2.773599C2.462765-2.773599 3.275716-2.797509 3.849564-3.012702C4.758157-3.359402 4.841843-4.052802 4.841843-4.267995C4.841843-4.794022 4.387547-5.272229 3.598506-5.272229C2.343213-5.272229 .537983-4.136488 .537983-2.008468C.537983-.753176 1.255293 .119552 2.343213 .119552C3.969116 .119552 4.99726-1.147696 4.99726-1.303113C4.99726-1.374844 4.925529-1.43462 4.877709-1.43462C4.841843-1.43462 4.829888-1.422665 4.722291-1.315068C3.957161-.298879 2.82142-.119552 2.367123-.119552C1.685679-.119552 1.327024-.657534 1.327024-1.542217C1.327024-1.709589 1.327024-2.008468 1.506351-2.773599H2.139975ZM1.566127-3.012702C2.080199-4.853798 3.21594-5.033126 3.598506-5.033126C4.124533-5.033126 4.483188-4.722291 4.483188-4.267995C4.483188-3.012702 2.570361-3.012702 2.068244-3.012702H1.566127Z'/>
<path id='g3-102' d='M5.332005-4.805978C5.571108-4.805978 5.66675-4.805978 5.66675-5.033126C5.66675-5.152677 5.571108-5.152677 5.355915-5.152677H4.387547C4.614695-6.38406 4.782067-7.232877 4.877709-7.615442C4.94944-7.902366 5.200498-8.177335 5.511333-8.177335C5.762391-8.177335 6.01345-8.069738 6.133001-7.962142C5.66675-7.914321 5.523288-7.567621 5.523288-7.364384C5.523288-7.12528 5.702615-6.981818 5.929763-6.981818C6.168867-6.981818 6.527522-7.185056 6.527522-7.639352C6.527522-8.141469 6.025405-8.416438 5.499377-8.416438C4.985305-8.416438 4.483188-8.033873 4.244085-7.567621C4.028892-7.149191 3.90934-6.718804 3.634371-5.152677H2.833375C2.606227-5.152677 2.486675-5.152677 2.486675-4.937484C2.486675-4.805978 2.558406-4.805978 2.797509-4.805978H3.56264C3.347447-3.694147 2.857285-.992279 2.582316 .286924C2.379078 1.327024 2.199751 2.199751 1.601993 2.199751C1.566127 2.199751 1.219427 2.199751 1.004234 1.972603C1.613948 1.924782 1.613948 1.398755 1.613948 1.3868C1.613948 1.147696 1.43462 1.004234 1.207472 1.004234C.968369 1.004234 .609714 1.207472 .609714 1.661768C.609714 2.175841 1.135741 2.438854 1.601993 2.438854C2.82142 2.438854 3.323537 .251059 3.455044-.3467C3.670237-1.267248 4.25604-4.447323 4.315816-4.805978H5.332005Z'/>
<path id='g3-120' d='M5.66675-4.877709C5.284184-4.805978 5.140722-4.519054 5.140722-4.291905C5.140722-4.004981 5.36787-3.90934 5.535243-3.90934C5.893898-3.90934 6.144956-4.220174 6.144956-4.542964C6.144956-5.045081 5.571108-5.272229 5.068991-5.272229C4.339726-5.272229 3.93325-4.554919 3.825654-4.327771C3.550685-5.224408 2.809465-5.272229 2.594271-5.272229C1.374844-5.272229 .729265-3.706102 .729265-3.443088C.729265-3.395268 .777086-3.335492 .860772-3.335492C.956413-3.335492 .980324-3.407223 1.004234-3.455044C1.41071-4.782067 2.211706-5.033126 2.558406-5.033126C3.096389-5.033126 3.203985-4.531009 3.203985-4.244085C3.203985-3.981071 3.132254-3.706102 2.988792-3.132254L2.582316-1.494396C2.402989-.777086 2.056289-.119552 1.422665-.119552C1.362889-.119552 1.06401-.119552 .812951-.274969C1.243337-.358655 1.338979-.71731 1.338979-.860772C1.338979-1.099875 1.159651-1.243337 .932503-1.243337C.645579-1.243337 .334745-.992279 .334745-.609714C.334745-.107597 .896638 .119552 1.41071 .119552C1.984558 .119552 2.391034-.334745 2.642092-.824907C2.833375-.119552 3.431133 .119552 3.873474 .119552C5.092902 .119552 5.738481-1.446575 5.738481-1.709589C5.738481-1.769365 5.69066-1.817186 5.618929-1.817186C5.511333-1.817186 5.499377-1.75741 5.463512-1.661768C5.140722-.609714 4.447323-.119552 3.90934-.119552C3.490909-.119552 3.263761-.430386 3.263761-.920548C3.263761-1.183562 3.311582-1.374844 3.502864-2.163885L3.921295-3.789788C4.100623-4.507098 4.507098-5.033126 5.057036-5.033126C5.080946-5.033126 5.415691-5.033126 5.66675-4.877709Z'/>
</defs>
<g id='page1' transform='matrix(1.13 0 0 1.13 -63.986043 -60.812818)'>
<use x='56.413267' y='73.511381' xlink:href='#g3-102'/>
<use x='63.459704' y='73.511381' xlink:href='#g5-40'/>
<use x='68.012029' y='73.511381' xlink:href='#g3-120'/>
<use x='74.664117' y='73.511381' xlink:href='#g5-41'/>
<use x='82.537272' y='73.511381' xlink:href='#g5-61'/>
<use x='96.158266' y='65.423622' xlink:href='#g3-101'/>
<use x='101.583706' y='61.011183' xlink:href='#g1-0'/>
<use x='109.365727' y='57.650464' xlink:href='#g2-120'/>
<use x='113.537567' y='57.650464' xlink:href='#g0-0'/>
<use x='119.29372' y='57.650464' xlink:href='#g4-51'/>
<use x='122.946646' y='57.650464' xlink:href='#g4-52'/>
<use x='126.599571' y='57.650464' xlink:href='#g4-48'/>
<rect x='109.365727' y='58.83932' height='.358656' width='20.886717'/>
<use x='116.156181' y='64.136776' xlink:href='#g4-53'/>
<use x='119.809106' y='64.136776' xlink:href='#g4-48'/>
<rect x='96.158266' y='70.283495' height='.478187' width='35.787823'/>
<use x='105.272693' y='81.712043' xlink:href='#g5-49'/>
<use x='111.125683' y='81.712043' xlink:href='#g5-48'/>
<use x='116.978673' y='81.712043' xlink:href='#g5-48'/>
</g>
</svg>

å‡½æ•°å›¾åƒï¼š

![å‡½æ•°å›¾åƒ](docs/img/fx.jpg?raw=true)

ç»è¿‡å®éªŒå‘ç°ï¼Œä½¿ç”¨æ­¤ä¼˜å…ˆçº§å‡½æ•°è¿›è¡Œçš„ä»»åŠ¡èƒ½å¤ŸæŠ“å–æ›´å¤šçš„ç½‘ç«™ï¼ˆåŸŸåï¼‰ã€‚

*æ­¤ç­–ç•¥é€‚åˆå¿«é€Ÿå‘ç°æ›´å¤šç«™ç‚¹*

## ä¼˜åŒ–è®¡åˆ’

* å…¥é˜Ÿå‰ç­›é€‰æœ‰æ•ˆ URL ï¼Œé¿å…æ¶ˆæ¯é˜Ÿåˆ—è‡ƒè‚¿ã€‚ âˆš
* ä½¿ç”¨åç¨‹å¹¶å‘æŠ“å–ã€‚ âˆš
* æ¶ˆæ¯é˜Ÿåˆ— Qosã€‚ âˆš
* HTTP è¿æ¥å¤ç”¨ã€‚ Ã—
* ç»´æŠ¤æœ¬åœ°å¸ƒéš†è¿‡æ»¤å™¨ï¼Œé¿å…é¢‘ç¹æŸ¥è¯¢ RedisBloomã€‚Ã—
* HTTP é‡å®šå‘æ—¶ï¼Œå°†é‡å®šå‘è¿‡ç¨‹ä¸­çš„ URL ä¹ŸåŠ å…¥è¿‡æ»¤å™¨ã€‚ Ã—

## ç›¸å…³æŠ€æœ¯

### å¸ƒéš†è¿‡æ»¤å™¨

```RedisBloom``` ç”¨äºåˆ†å¸ƒå¼ä¸‹çš„ ```URL``` å»é‡ã€‚

[RedisBloom](https://github.com/RedisBloom/RedisBloom)

[redisbloom-go](https://github.com/RedisBloom/redisbloom-go)

### æ¶ˆæ¯é˜Ÿåˆ—

ä½¿ç”¨ ```RabbitMQ``` å­˜æ”¾å¾…æŠ“å–çš„ ```URL```ï¼Œå¹¶ä»é˜Ÿåˆ—è·å– ```URL``` è¿›è¡Œæ¶ˆè´¹ã€‚

[RabbitMQ Server](https://github.com/rabbitmq/rabbitmq-server)

[Go RabbitMQ Client Library](https://github.com/streadway/amqp)

### æ•°æ®å­˜å‚¨

ä½¿ç”¨ ```Elasticsearch``` å­˜å‚¨ç½‘é¡µæ•°æ®ã€‚

[Elasticsearch](https://github.com/elastic/elasticsearch)

[go-elasticsearch](https://github.com/elastic/go-elasticsearch)

### å¯è§†åŒ–åˆ†æ

ä½¿ç”¨ ```Kibana``` è¿›è¡Œå¯è§†åŒ–åˆ†æã€‚

[Kibana](https://github.com/elastic/kibana)

